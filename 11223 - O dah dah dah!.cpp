/**-----------------------------------------*/
///    Author : sajal Khan
///    Daffodil International University
/**-----------------------------------------*/

#include<bits/stdc++.h>
using namespace std;
int main()
{
//    freopen("in.txt","r",stdin);
//    freopen("out.txt","w",stdout);
    map<string,char>m;
    m[".-"] = 'A';
    m["-..."] = 'B';
    m["-.-."] = 'C';
    m["-.."] = 'D';
    m["."] = 'E';
    m["..-."] = 'F';
    m["--."] = 'G';
    m["...."] = 'H';
    m[".."] = 'I';
    m[".---"] = 'J';
    m["-.-"] = 'K';
    m[".-.."] = 'L';
    m["--"] = 'M';
    m["-."] = 'N';
    m["---"] = 'O';
    m[".--."] = 'P';
    m["--.-"] = 'Q';
    m[".-."] = 'R';
    m["..."] = 'S';
    m["-"] = 'T';
    m["..-"] = 'U';
    m["...-"] = 'V';
    m[".--"] = 'W';
    m["-..-"] = 'X';
    m["-.--"] = 'Y';
    m["--.."] = 'Z';
    m["-----"] = '0';
    m[".----"] = '1';
    m["..---"] = '2';
    m["...--"] = '3';
    m["....-"] = '4';
    m["....."] = '5';
    m["-...."] = '6';
    m["--..."] = '7';
    m["---.."] = '8';
    m["----."] = '9';
    m[".-.-.-"] = '.';
    m["--..--"] = ',';
    m["..--.."] = '?';
    m[".----."] = '\'';
    m["-.-.--"] = '!';
    m["-..-."] = '/';
    m["-.--."] = '(';
    m["-.--.-"] = ')';
    m[".-..."] = '&';
    m["---..."] = ':';
    m["-.-.-."] = ';';
    m["-...-"] = '=';
    m[".-.-."] = '+';
    m["-....-"] = '-';
    m["..--.-"] = '_';
    m[".-..-."] = '\"';
    m[".--.-."] = '@';
    int t,test=1;
    string s;
    scanf("%d",&t);
    getchar();
    while(t--)
    {
        printf("Message #%d\n",test++);
        int b=0;
        getline(cin,s);
        int ln=s.size();
        for(int i=0; i<ln; i++)
        {
            if(s[i]==' ')
            {
                if(b==1)printf(" ");
                else b++;
                continue;
            }
            b=0;
            string code;
            while(s[i]!=' ' && i<ln)
            {
                code+=s[i];
                i++;
            }
            cout<<m[code];
            i=i-1;
        }
        printf("\n");
        if(t)printf("\n");
    }
    return 0;
}
/*
2
... --- ...
.--- --- -...  -.. --- -. .  ..--..  ..-. .. -. . -.-.--

*/
